<div class="container shadow">
    <div class="divcol ">
        <div class="row">
            <div class="col-sm chatrightborder">
                <div class="h--155 backBlue">
                    <div class="input-group divinputsearch">
                        <div class="searchGray absoluteSearch"></div>
                        <input type="text" class="form-control inputbusquechat" placeholder="Search by name or project" name="search" [(ngModel)]="search">
                    </div>
                    <div class="menuOptionFilter">
                        <span (click)="filter(1)" [class.blueColor]="!unread">All</span>
                        <span (click)="filter(2)" [class.blueColor]="unread">Unread <b>({{totalUnread}})</b></span>
                        <span>Archived</span>
                    </div>
                </div>
                <hr>
                <div class="containerH155">
                    <div class="person_user_chat" *ngFor="let u of users | chatText: search | chatSearch: unread ">
                        <!-- <span *ngIf="num.puntoMessage"  class="puntoMessage"></span> -->
                        <div class="divcontainerChat" (click)="initChat(u)">
                            <div class="nombreschat">
                                <div class="profile mini imagenChatPerson" [ngStyle]="{'background-image': 'url('+u.photo+')'}">
                                    <a href="{{u.photo}}" target="_blank"></a>
                                </div>
                                <div class="nombrechatazul title3">{{u.name}}</div>
                                <div class="nombrechatNaranja">{{u.projectname}}</div>
                            </div>
                            <div class="iconsChatUser">
                                <div class="right100p eyeM" [class.eyeN]="!u.noRead"></div>
                                <div class="folderChat"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-8">
                <ng-container *ngIf="chat">
                    <div class="containerChat">
                        <div class="h--155 backBlue">
                            <div class="divCabezera ">
                                <div class="profile mini imagenChatPerson" [ngStyle]="{'background-image': 'url('+photo+')'}"></div>
                                <div class="nombrechatazul title3">{{name}}</div>
                                <div class="nombrechatNaranja">{{projectName}}</div>
                            </div>
                        </div>
                        <hr>
                    </div>
                    <div class="containerChat ml-0">
                        <div class="chatContainerHeight containerChat">

                            <!-- <div class="messagePro1">
                                <div class="textNormal">
                                    <span>{{name}}</span> wants to hire you as a <span>Drywall Hanger.</span> Will you accept <span>$12/hour</span>?
                                </div>
                                <button class="orangeBtn small">Yes</button>
                                <button class="orangeBtn small">No</button>
                                <button class="blueBtn medium">Negotiate</button>
                            </div>

                            <div class="messagePro2">User Name has declined the offer.</div>

                            <div class="messagePro2 messagePro3">User Name has accepted the offer.</div> -->

                            <ng-container *ngFor="let m of messages">
                                <p class="nomFecha">
                                    {{ m.fecha.toDate() | date: 'MMM, dd h:mm a' }}
                                </p>
                                <div style="overflow: hidden;">
                                    <div class="messageNormal" [class.messageMy]="myId == m.id">
                                        {{ m.message }}
                                    </div>
                                </div>
                            </ng-container>
                        </div>


                        <div class="containerChat mr-0">
                            <div class="mensajescHat">
                                <form action="" (ngSubmit)="chatMessage(idPro, mesg)">
                                    <div class="btnEnviarMsj"><img src="../../../assets/iconos/enviarMsj.svg"></div>
                                    <input class="form-control inputChatFinally" id="msgChat" type="text" name="mesg" placeholder="Write your message" ngModel [(ngModel)]="mesg" autocomplete="off">
                                    <button type="submit" class="blueBtn small"> Send </button>
                                </form>
                            </div>
                        </div>

                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
<div class="container shadow" *ngIf="select == 0">
  <div class="divcol mt-44 ml-48">
    <form action="">
      <div class="row fields">
        <div class="input-group">
          <div class="searchGray absoluteSearch"></div>
          <input type="text" class="form-control pl-36 col-sm-6" placeholder="Search for projects">
          <div class="normalText fl ml-48">
            <p><strong>{{ projects.length + 1 }} Results</strong></p>
          </div>
          <div class="normalText fr ml-137">
            <p>Sort by: <a class="orange" href="#"><strong>Latest</strong></a></p>
            <div class="arrowDownGray fr mt-mr"></div>
          </div>
        </div>
        <!-- *ngIf="p[0].status == 1 || p[0].status == 2" -->
        <ng-container *ngFor="let p of projects">
            <div class="projects row" (click)="sendInfo(p)">
                <div class="col-sm-6 ml-48">
                    <p class="mt-47"><span class="title2">Project:</span> {{ p[0].projectname }}</p>
                    <p class="mt-20">{{ p[0].description }}</p>
                    <p class="mt-20">Status: {{ p[0].statusname }}</p>
                    <div class="mt-49 mb-42">
                        <div class="iconSkills fl mt-mr2"></div>
                        <p class="purple normalText"><span *ngFor="let s of p[0].skills">{{ s }}, </span> </p>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="map mt-47">
                        <!-- <agm-map [latitude]="lat" [longitude]="long"></agm-map> -->
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
    <ng-container *ngFor="let p of projects; let i = index">
      <div class="projects row" (click)="sendInfo(p)" *ngIf="(i+1) >= start && (i+1) <= end">
        <div class="col-sm-6 ml-48">
          <p class="mt-47"><span class="title2">Project:</span> {{ p[0].projectname }}</p>
          <p class="mt-20">{{ p[0].description }}</p>
          <p class="mt-20">Status: {{ p[0].statusname }}</p>
          <div class="mt-49 mb-42">
            <div class="iconSkills fl mt-mr2"></div>
            <p class="purple normalText"><span *ngFor="let s of p[0].skills">{{ s }}, </span> </p>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="map mt-47">
            <!-- <agm-map [latitude]="lat" [longitude]="long"></agm-map> -->
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="pagination">
    <div class="buttonsPag">
      <div class="firstPag" [class.clickP]="start > 1">
        <p>First</p>
      </div>
      <div class="prevPag" [class.clickP]="start > 1">
        <p>Previous</p>
      </div>
      <div class="numbers" [class.bgP]="start >= ((page*5)-5) && end <= (page*5) " (click)="changePag(page)" *ngFor="let page of pages">
        <p>{{ page }}</p>
      </div>
      <div class="nextPag clickP">
        <p>Next</p>
      </div>
      <div class="lastPag clickP">
        <p>Last</p>
      </div>
    </div>
</div>

<div class="container shadow" *ngIf="select == 1">
  <div class="row fields mt-47 h-326">
    <div class="col-sm ml-48">
      <p><span class="title2">Project:</span> {{infoProject[0].projectname}}.</p>
      <p class="mt-12">Status: {{infoProject[0].statusname}}</p>
      <p class="mt-44">{{infoProject[0].description}}</p>
    </div>
    <div class="col-sm mr-48">
      <button class="blueBtn small fr" (click)="apply()" *ngIf="buttonApply; else aplicado"><span>Apply</span></button>
        <ng-template #aplicado>
          <button class="blueBtn small fr disabled grayBtn" disabled><span>Applied</span></button>
        </ng-template>
    </div>
    <hr class="hr">
    <div class="row fields">
        <div class="col-sm ml-48">
            <div class="title2">
                <p>Hirer</p>
            </div>
            <div class="fields flex">
                <div class="profile mini" [ngStyle]="{'background-image' : 'url('+infoProject[1].photo+')'}"></div>
                <div class="ml-14">
                    <p class="title2 mt-0">{{infoProject[1].name}}</p>
                    <p class="mt-8"><span class="verify fl mr-6"></span>Verified user</p>
                </div>
            </div>
        </div>
    </div>
    <hr class="hr mt-33">
    <div class="row fields">
        <div class="col-sm ml-48">
            <div class="title2">
                <p>Skills</p>
            </div>
            <div class="mt-20" style="overflow: hidden;">
                <div class="skillsel onlySkill" *ngFor="let si of infoProject[0].skills">
                    <p>{{si}}</p>
                </div>
            </div>
        </div>
    </div>
    <hr class="hr mt-38">
    <div class="row fields">
        <div class="col-sm ml-48">
            <div class="title2">
                <p>Location</p>
            </div>
            <p class="mt-17"><span class="locationIcon fl mr-8 mt--3"></span>{{infoProject[0].location}}</p>
        </div>
    </div>
    <hr class="hr mt-33">
    <div class="row fields">
        <div class="col-sm ml-48">
            <div class="title2">
                <p>Location Map</p>
            </div>
            <div class="mapBig mt-20 mb-57">
                <agm-map [latitude]="lat" [longitude]="long"></agm-map>
            </div>
        </div>
    </div>
</div>

<div class="textv mr-97">
    <p>Explore</p>
</div>

<div class="modal" [class.showModal]="modal == 1">
    <div class="message">
        <div class="title mt-44">
            <p>You have successfully <br>applied to this offer</p>
        </div>
        <p class="mt-30 smallText">The hirer will reach out to you soon in the Messages <br>section to negotiate and agree on payment terms.</p>
        <button class="blueBtn large mt-30 w360" (click)=hideModal()>Back to dashboard</button>
        <span class="mt-12 mb-12 orLines">or</span>
        <button class="blueBtn large mb-45 w360" (click)=hideModal()>Back to explore</button>
    </div>
</div>